## Qos limit băng thông

  Hiển thị cấu hình QoS trên tất cả các cổng:

    swcore2#show policy-map interface

  Hiển thị cấu hình QoS trên một cổng cụ thể:

    swcore2#show policy-map interface gigabitEthernet 1/0/17

  Liệt kê tất cả các policy-map QoS đã được định nghĩa:

    switch#show policy-map

  Xem chi tiết một policy-map QoS cụ thể:

    switch#show policy-map [policy-map-name]

  Ví dụ:

    swcore2#show policy-map 200Mbps
    Policy Map 200Mbps
    Class CLASS_1
    police 200000000 1000000 exceed-action drop

#### 1. Kích hoạt tính năng Qos: 

    swcore2(config)#mls qos

#### 2. Tạo access-list cho phép mọi truy cập


    swcore2(config)#ip access-list extended ACL_1
    swcore2(config-ext-nacl)#permit ip any any


#### 3. Tạo class-map để phân loại các traffic


    swcore2(config)#class-map match-all CLASS_1
    swcore2(config-cmap)#match access-group name ACL_1


#### 4. Tạo policy:

    swcore2(config)#policy-map 200Mbps
    swcore2(config-pmap)#class CLASS_1
    swcore2(config-pmap-c)#police 200000000 1000000 exceed-action drop       #Tốc độ tối đa có thể đạt được là 200Mbps nếu quá sẽ bị drop k cho sử dụng.

  Trong đó: 200000000 là tốc độ tính bằng bit/s, 200000000 bit/s = 8Mbps
  100000 là burst size tính bằng byte


#### 5. Gán Policy cho cổng mạng muốn hạn chế tốc độ.

  Áp dụng policy-map "200Mbps" vào interface gigabitEthernet 1/0/17:

    swcore2(config)#interface gigabitEthernet 1/0/17
    swcore2(config-if)#service-policy input 200Mbps
    switch(config-if)#exit

  Lưu cấu hình:

    switch#copy running-config startup-config

  Sau khi hoàn tất các bước trên, gigabitEthernet 1/0/17 sẽ được áp dụng policy-map "200Mbps", theo đó lưu lượng trên interface sẽ được giới hạn băng thông 200 Mbps, vượt quá bị drop.
  Chúng ta cắm cổng gigabitEthernet 1/0/17 vào PC để test speed.

    <img src="Basicnetworkimages/59.png">