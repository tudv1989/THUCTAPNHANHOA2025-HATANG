### 1. KVM l√† g√¨ v√† ƒë·ªÉ l√†m g√¨?  

KVM (Kernel-based Virtual Machine) l√† m·ªôt gi·∫£i ph√°p ·∫£o h√≥a ph·∫ßn c·ª©ng m√£ ngu·ªìn m·ªü, cho ph√©p ch·∫°y nhi·ªÅu m√°y ·∫£o (VM) tr√™n m·ªôt m√°y ch·ªß v·∫≠t l√Ω. KVM bi·∫øn Linux kernel th√†nh m·ªôt hypervisor Type-1 (bare-metal), gi√∫p qu·∫£n l√Ω t√†i nguy√™n CPU, RAM, storage v√† network cho c√°c VM.  

#### C√¥ng d·ª•ng c·ªßa KVM:  

  + Ch·∫°y nhi·ªÅu h·ªá ƒëi·ªÅu h√†nh kh√°ch (Windows, Linux, BSD...) song song tr√™n m·ªôt m√°y ch·ªß.  
  + Ph·ª•c v·ª• ·∫£o h√≥a server (cloud computing, VPS), ph√°t tri·ªÉn ph·∫ßn m·ªÅm, testing.  
  + H·ªó tr·ª£ nested virtualization (ch·∫°y VM b√™n trong VM).  

---

### 2. KVM thu·ªôc lo·∫°i ·∫£o h√≥a n√†o?  

KVM thu·ªôc lo·∫°i ·∫£o h√≥a ph·∫ßn c·ª©ng (Hardware Virtualization) v·ªõi ƒë·∫∑c ƒëi·ªÉm:

  + Type-1 Hypervisor (bare-metal): Ch·∫°y tr·ª±c ti·∫øp tr√™n ph·∫ßn c·ª©ng, kh√¥ng c·∫ßn OS host.  
  + T·∫≠n d·ª•ng ph·∫ßn c·ª©ng h·ªó tr·ª£ ·∫£o h√≥a (Intel VT-x/AMD-V).  

> üí° KVM kh√¥ng ph·∫£i l√† m·ªôt hypervisor ƒë·ªôc l·∫≠p, m√† l√† module c·ªßa Linux kernel, k·∫øt h·ª£p v·ªõi QEMU ƒë·ªÉ t·∫°o th√†nh gi·∫£i ph√°p ·∫£o h√≥a ho√†n ch·ªânh.  

---

### 3. So s√°nh KVM v·ªõi c√°c hypervisor kh√°c  

| Ti√™u ch√≠       | KVM                          | VMware ESXi               | Microsoft Hyper-V       | Xen                     |
|--------------------|----------------------------------|-------------------------------|----------------------------|-----------------------------|
| Lo·∫°i hypervisor | Type-1 (nh∆∞ng ch·∫°y tr√™n Linux)  | Type-1 (bare-metal)           | Type-1 (Windows Server)    | Type-1 (c√≥ c·∫£ Paravirtualization) |
| M√£ ngu·ªìn       | M·ªü (GPL)                        | ƒê·ªôc quy·ªÅn                    | ƒê·ªôc quy·ªÅn                 | M·ªü (GPL)                   |
| Hi·ªáu nƒÉng      | Cao, h·ªó tr·ª£ GPU passthrough      | R·∫•t cao                      | Cao                       | Cao (nh·∫π v·ªõi PV)            |
| H·ªó tr·ª£ OS kh√°ch| Linux, Windows, BSD...          | Windows, Linux               | Windows (t·ªëi ∆∞u), Linux   | Linux, Windows             |
| Qu·∫£n l√Ω        | Libvirt, Virt-manager, CLI      | vSphere Client               | Hyper-V Manager           | XenCenter, CLI             |
| Chi ph√≠        | Mi·ªÖn ph√≠                        | Tr·∫£ ph√≠ (b·∫£n enterprise)     | Mi·ªÖn ph√≠ (b·∫£n Standard)   | Mi·ªÖn ph√≠ (Xen Project)     |

#### ∆Øu ƒëi·ªÉm c·ªßa KVM:  

  + Mi·ªÖn ph√≠, t√≠ch h·ª£p s·∫µn trong Linux kernel.  
  + Hi·ªáu su·∫•t g·∫ßn native nh·ªù h·ªó tr·ª£ hardware acceleration.  
  + Linh ho·∫°t: H·ªó tr·ª£ c·∫£ full virtualization (QEMU) v√† paravirtualization (virtio drivers).  

#### Nh∆∞·ª£c ƒëi·ªÉm:  

  + C·∫ßn c·∫•u h√¨nh th·ªß c√¥ng nhi·ªÅu h∆°n so v·ªõi VMware/Hyper-V.  

---

### 4. C√°c th√†nh ph·∫ßn ch√≠nh c·ªßa KVM  

**Linux Kernel Module (kvm.ko)** 
 
   - Cung c·∫•p ch·ª©c nƒÉng hypervisor (CPU, memory virtualization).  

**QEMU (Quick Emulator)r)**  

   - Gi·∫£ l·∫≠p ph·∫ßn c·ª©ng (CPU, devices) cho VM.  

**Libvirtrt**  

   - Th∆∞ vi·ªán qu·∫£n l√Ω VM (API, CLI: virsh, GUI: Virt-manager).  

**Virtio Driversrs**  

   - T·ªëi ∆∞u hi·ªáu su·∫•t I/O (network, disk) cho VM.  

**SPICE/VNCNC**  

   - Giao th·ª©c k·∫øt n·ªëi giao di·ªán ƒë·ªì h·ªça t·ª´ xa.  

---

### 5. C√°ch ho·∫°t ƒë·ªông c·ªßa KVM 

**Kernel Integration**  

   - Khi load module kvm, Linux kernel tr·ªü th√†nh hypervisor.  

**T·∫°o VM:**  

   - QEMU m√¥ ph·ªèng ph·∫ßn c·ª©ng (CPU ·∫£o, disk ·∫£o) v√† s·ª≠ d·ª•ng KVM ƒë·ªÉ tƒÉng t·ªëc.  

**Hardware Acceleration:**  

   - CPU v·∫≠t l√Ω (Intel VT-x/AMD-V) x·ª≠ l√Ω tr·ª±c ti·∫øp l·ªánh t·ª´ VM.  

**Qu·∫£n l√Ω t√†i nguy√™n:**  

   - Libvirt ph√¢n chia CPU, RAM, network cho t·ª´ng VM.  

**I/O Virtualization:** 
 
   - Virtio drivers gi·∫£m ƒë·ªô tr·ªÖ khi truy c·∫≠p disk/network.  

---

### 6. M·ªëi quan h·ªá gi·ªØa KVM v√† OS 

  + KVM l√† m·ªôt ph·∫ßn c·ªßa Linux kernel, (t·ª´ phi√™n b·∫£n 2.6.20). 

  + Kh√¥ng c·∫ßn OS host ri√™ng: KVM bi·∫øn Linux kernel th√†nh hypervisor, nh∆∞ng v·∫´n ch·∫°y c√°c process Linux th√¥ng th∆∞·ªùng. 

  + OS kh√°ch (Guest OS)S): Ch·∫°y ƒë·ªôc l·∫≠p tr√™n VM, kh√¥ng bi·∫øt m√¨nh ƒëang ·∫£o h√≥a (tr·ª´ khi d√πng paravirtualization).  


    Hardware (CPU VT-x/AMD-V)  
    ‚Üì  
    Linux Kernel (with KVM module) ‚Üê‚Üí QEMU (emulator)  
    ‚Üì  
    Guest OS (VM)  

### T√≥m t·∫Øt  
- KVM = Linux kernel module + QEMU ‚Üí ·∫¢o h√≥a Type-1 hi·ªáu nƒÉng cao.  
- So s√°nh: KVM mi·ªÖn ph√≠, linh ho·∫°t h∆°n VMware/Hyper-V nh∆∞ng c·∫ßn c·∫•u h√¨nh.  
- Th√†nh ph·∫ßn ch√≠nh: Kernel module, QEMU, Libvirt, Virtio.  
- Ho·∫°t ƒë·ªông: Kernel l√†m hypervisor, QEMU gi·∫£ l·∫≠p, Virtio t·ªëi ∆∞u I/O.  
- OS Host: Linux kernel ƒë√≥ng vai tr√≤ hypervisor, kh√¥ng c·∫ßn OS ri√™ng.  